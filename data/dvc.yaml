vars:
  - viaf:
      # get a current url from https://viaf.org/viaf/data/
      url: https://viaf.org/viaf/data/viaf-20230605-clusters-marc21.xml.gz

stages:
  loc-books:
    cmd: curl https://www.loc.gov/cds/downloads/MDSConnect/BooksAll.2016.part[01-43].xml.gz
      -o "loc-books/BooksAll.2016.part#1.xml.gz" --create-dirs
    outs:
    - loc-books
    frozen: true
  loc-names:
    cmd: curl https://www.loc.gov/cds/downloads/MDSConnect/Names.2016.part[01-40].xml.gz
      -o "loc-names/Names.2016.part#1.xml.gz" --create-dirs
    outs:
    - loc-names
    frozen: true
  viaf-clusters:
    cmd: curl -o viaf-clusters-marc21.xml.gz --retry 100 ${viaf.url}
    outs:
    - viaf-clusters-marc21.xml.gz
