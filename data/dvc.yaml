vars:
- ../config.yaml

stages:
  loc-books:
    cmd: curl https://www.loc.gov/cds/downloads/MDSConnect/BooksAll.2016.part[01-43].xml.gz
      -o "loc-books/BooksAll.2016.part#1.xml.gz" --create-dirs
    outs:
    - loc-books
    frozen: true
  loc-names:
    cmd: curl https://www.loc.gov/cds/downloads/MDSConnect/Names.2016.part[01-40].xml.gz
      -o "loc-names/Names.2016.part#1.xml.gz" --create-dirs
    outs:
    - loc-names
    frozen: true

  viaf-clusters:
    cmd: curl -o viaf-clusters-marc21.xml.gz --retry 100 ${viaf.url}
    outs:
    - viaf-clusters-marc21.xml.gz
  ol-editions:
    cmd: curl -L -o openlib/ol_dump_editions.txt.gz https://openlibrary.org/data/ol_dump_editions_${openlibrary.date}.txt.gz
    outs:
    - openlib/ol_dump_editions.txt.gz
  ol-authors:
    cmd: curl -L -o openlib/ol_dump_authors.txt.gz https://openlibrary.org/data/ol_dump_authors_${openlibrary.date}.txt.gz
    outs:
    - openlib/ol_dump_authors.txt.gz
  ol-works:
    cmd: curl -L -o openlib/ol_dump_works.txt.gz https://openlibrary.org/data/ol_dump_works_${openlibrary.date}.txt.gz
    outs:
    - openlib/ol_dump_works.txt.gz
