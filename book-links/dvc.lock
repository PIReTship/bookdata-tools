schema: '2.0'
stages:
  collect-isbns:
    cmd: python run.py collect-isbns
    deps:
    - path: bx/cleaned-ratings.csv
      md5: da3196d4af84ae39b3713e73c59677c7
      size: 22627884
    - path: data/ratings_Books.csv
      md5: 77b4a5b887e14e16b13e7788bdf70156
      size: 916259348
    - path: goodreads/gr-book-ids.parquet
      md5: e869ac7fa6cc0b7ab993163afc66934a
      size: 41334437
    - path: loc-mds/book-isbns.parquet
      md5: 61f9be5498ac978fb76431e8092c6aa4
      size: 61308859
    - path: openlibrary/edition-isbns.parquet
      md5: ffe6f2bd530fa0a96700d50c6f53a64b
      size: 163883427
    - path: scripts/collect-isbns.py
      md5: 08c57f87e2e91f5491e4b15a990a80c9
      size: 2274
    outs:
    - path: book-links/all-isbns.parquet
      md5: 56ef5f842af3651da12b632886432122
      size: 152341832
  cluster:
    cmd: python run.py --rust cluster-books
    deps:
    - path: book-links/all-isbns.parquet
      md5: 56ef5f842af3651da12b632886432122
      size: 152341832
    - path: goodreads/book-isbn-ids.parquet
      md5: e8c762419653f14bb31722de3ea60407
      size: 33451347
    - path: goodreads/gr-book-ids.parquet
      md5: e869ac7fa6cc0b7ab993163afc66934a
      size: 41334437
    - path: loc-mds/book-ids.parquet
      md5: 6328dc695b1f1b075c308b999039273b
      size: 73156551
    - path: loc-mds/book-isbn-ids.parquet
      md5: d2e085bb629b3e4b8116595dc47e5617.dir
      size: 70073454
      nfiles: 16
    - path: openlibrary/all-works.parquet
      md5: cf41b00796005d9805f5aa4128094534
      size: 160431445
    - path: openlibrary/edition-isbn-ids.parquet
      md5: 35d3e456a5741b34562781cc814ec8e1.dir
      size: 213242294
      nfiles: 16
    - path: openlibrary/edition-works.parquet
      md5: 5b8e6e6c1ddfd94a0a05e9e9bca88442
      size: 175549574
    - path: openlibrary/editions.parquet
      md5: f922a1e9608f641341a48d840679656f
      size: 148809247
    - path: src/bin/cluster-books.rs
      md5: 30557c33d50785118debae128a292898
      size: 1366
    outs:
    - path: book-links/isbn-clusters.parquet
      md5: e16ce728373e96c8a9d94ac3000a0f1e
      size: 161938919
