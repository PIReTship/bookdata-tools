schema: '2.0'
stages:
  collect-isbns:
    cmd: python run.py collect-isbns
    deps:
    - path: bx/cleaned-ratings.csv
      md5: da3196d4af84ae39b3713e73c59677c7
      size: 22627884
    - path: goodreads/gr-book-ids.parquet
      md5: e869ac7fa6cc0b7ab993163afc66934a
      size: 41334437
    - path: loc-mds/book-isbns.parquet
      md5: 7bd93533e9cab284b0821e70ce7cc7ff
      size: 61310024
    - path: openlibrary/edition-isbns.parquet
      md5: ffe6f2bd530fa0a96700d50c6f53a64b
      size: 163883427
    - path: scripts/collect-isbns.py
      md5: bd98a94559b984d37868ffdf4b0599bd
      size: 1843
    outs:
    - path: book-links/all-isbns.parquet
      md5: 1345229f86663f658a614ada9060bd2f
      size: 143170638
  cluster:
    cmd: python run.py --rust cluster-books
    deps:
    - path: book-links/all-isbns.parquet
      md5: 1345229f86663f658a614ada9060bd2f
      size: 143170638
    - path: goodreads/book-isbn-ids.parquet
      md5: 28d7f2912a482c39c7dce0e2cd697ffe.dir
      size: 33314015
      nfiles: 144
    - path: goodreads/gr-book-ids.parquet
      md5: e869ac7fa6cc0b7ab993163afc66934a
      size: 41334437
    - path: loc-mds/book-ids.parquet
      md5: 6328dc695b1f1b075c308b999039273b
      size: 73156551
    - path: loc-mds/book-isbn-ids.parquet
      md5: 19c7fdd1cffb67bac3aef0a8b6bda869.dir
      size: 71466180
      nfiles: 48
    - path: openlibrary/all-works.parquet
      md5: e8e2926172a97022695605093a33572a
      size: 160433785
    - path: openlibrary/edition-isbn-ids.parquet
      md5: 12466d14838e92d392faed11a4903ef0.dir
      size: 215676033
      nfiles: 48
    - path: openlibrary/edition-works.parquet
      md5: 5b8e6e6c1ddfd94a0a05e9e9bca88442
      size: 175549574
    - path: openlibrary/editions.parquet
      md5: f922a1e9608f641341a48d840679656f
      size: 148809247
    - path: src/bin/cluster-books.rs
      md5: 558c22da66ed554c2a8ea4d28e637e15
      size: 1203
    outs:
    - path: book-links/isbn-clusters.parquet
      md5: 3aef3abb9feb391b2dbc467a3cba52aa
      size: 168594465
