schema: '2.0'
stages:
  collect-isbns:
    cmd: python run.py collect-isbns
    deps:
    - path: bx/cleaned-ratings.csv
      md5: da3196d4af84ae39b3713e73c59677c7
      size: 22627884
    - path: goodreads/gr-book-ids.parquet
      md5: e869ac7fa6cc0b7ab993163afc66934a
      size: 41334437
    - path: loc-mds/book-isbns.parquet
      md5: 7bd93533e9cab284b0821e70ce7cc7ff
      size: 61310024
    - path: openlibrary/edition-isbns.parquet
      md5: ffe6f2bd530fa0a96700d50c6f53a64b
      size: 163883427
    - path: scripts/collect-isbns.py
      md5: 3d27250723ae5f711fa4a3a2d800fe2c
      size: 1878
    outs:
    - path: book-links/all-isbns.parquet
      md5: 0ce68ed16c8e667a972c34a03eddebeb
      size: 142313447
  cluster:
    cmd: python run.py --rust cluster-books
    deps:
    - path: book-links/all-isbns.parquet
      md5: 0ce68ed16c8e667a972c34a03eddebeb
      size: 142313447
    - path: goodreads/book-isbn-ids.parquet
      md5: 45a090e67b65c18e3362031fa6e90962.dir
      size: 32325927
      nfiles: 72
    - path: goodreads/gr-book-ids.parquet
      md5: e869ac7fa6cc0b7ab993163afc66934a
      size: 41334437
    - path: loc-mds/book-ids.parquet
      md5: 6328dc695b1f1b075c308b999039273b
      size: 73156551
    - path: loc-mds/book-isbn-ids.parquet
      md5: 9a2fd8ab11991879fc6da052b8f53def.dir
      size: 70579829
      nfiles: 24
    - path: openlibrary/all-works.parquet
      md5: e8e2926172a97022695605093a33572a
      size: 160433785
    - path: openlibrary/edition-isbn-ids.parquet
      md5: 9d8f58254e4ce22bff08523d34b514e6.dir
      size: 214067583
      nfiles: 24
    - path: openlibrary/edition-works.parquet
      md5: 5b8e6e6c1ddfd94a0a05e9e9bca88442
      size: 175549574
    - path: openlibrary/editions.parquet
      md5: f922a1e9608f641341a48d840679656f
      size: 148809247
    - path: src/bin/cluster-books.rs
      md5: 558c22da66ed554c2a8ea4d28e637e15
      size: 1203
    outs:
    - path: book-links/isbn-clusters.parquet
      md5: 8800b5f9affbfc004035cbbeee3fe18d
      size: 168189905
