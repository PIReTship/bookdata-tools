schema: '2.0'
stages:
  collect-isbns:
    cmd: python run.py collect-isbns
    deps:
    - path: bx/cleaned-ratings.csv
      md5: da3196d4af84ae39b3713e73c59677c7
      size: 22627884
    - path: goodreads/gr-book-ids.parquet
      md5: e869ac7fa6cc0b7ab993163afc66934a
      size: 41334437
    - path: loc-mds/book-isbns.parquet
      md5: 61f9be5498ac978fb76431e8092c6aa4
      size: 61308859
    - path: openlibrary/edition-isbns.parquet
      md5: ffe6f2bd530fa0a96700d50c6f53a64b
      size: 163883427
    - path: scripts/collect-isbns.py
      md5: 5f6f00be495649c956965dd4e760c179
      size: 1963
    outs:
    - path: book-links/all-isbns.parquet
      md5: 5dca1a8118650829303f0dd305a7da2e
      size: 142309730
  cluster:
    cmd: python run.py --rust cluster-books
    deps:
    - path: book-links/all-isbns.parquet
      md5: 5dca1a8118650829303f0dd305a7da2e
      size: 142309730
    - path: goodreads/book-isbn-ids.parquet
      md5: 81e0bc830d30e7d03360286fe9026bda.dir
      size: 31510630
      nfiles: 48
    - path: goodreads/gr-book-ids.parquet
      md5: e869ac7fa6cc0b7ab993163afc66934a
      size: 41334437
    - path: loc-mds/book-ids.parquet
      md5: 6328dc695b1f1b075c308b999039273b
      size: 73156551
    - path: loc-mds/book-isbn-ids.parquet
      md5: 58c723f116707be84634d97c267e8746.dir
      size: 70028389
      nfiles: 16
    - path: openlibrary/all-works.parquet
      md5: cf41b00796005d9805f5aa4128094534
      size: 160431445
    - path: openlibrary/edition-isbn-ids.parquet
      md5: 064e4384d13c59d8036ee7e7099b9be6.dir
      size: 213228106
      nfiles: 16
    - path: openlibrary/edition-works.parquet
      md5: 5b8e6e6c1ddfd94a0a05e9e9bca88442
      size: 175549574
    - path: openlibrary/editions.parquet
      md5: f922a1e9608f641341a48d840679656f
      size: 148809247
    - path: src/bin/cluster-books.rs
      md5: 30557c33d50785118debae128a292898
      size: 1366
    outs:
    - path: book-links/isbn-clusters.parquet
      md5: 0b66cdb0e191edf01e3feba19cab497c
      size: 168350092
