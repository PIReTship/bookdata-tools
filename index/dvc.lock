schema: '2.0'
stages:
  az-index:
    cmd: python ../run.py sql-script az-index.sql
    deps:
    - path: ../import/az-ratings.status
      md5: 08a44188987803be46be4286a2e5a5f3
      size: 180
    - path: ../integrate/cluster.status
      md5: abac8ffbe1d4b0e33b39320bdfd7974d
      size: 51
    - path: az-index.sql
      md5: 894b772669d1cff5511b8f651fe4a1bb
      size: 1320
    outs:
    - path: az-index.transcript
      md5: 11bcbcd2d11a8a121b22a9a799312434
  bx-index:
    cmd: python ../run.py sql-script bx-index.sql
    deps:
    - path: ../import/bx-ratings.status
      md5: 9f1009bfdb68267b39ac94ff3d754756
      size: 174
    - path: ../integrate/cluster.status
      md5: abac8ffbe1d4b0e33b39320bdfd7974d
      size: 51
    - path: bx-index.sql
      md5: 4490ac14a5764c8dd928388f9ecde2af
      size: 1142
    outs:
    - path: bx-index.transcript
      md5: 10895cefc67a2d442b8d834d8399d05b
  gr-book-authors:
    cmd: python ../run.py sql-script gr-book-authors.sql
    deps:
    - path: ../import/gr-authors.status
      md5: b7701864036091016af9123c02b5d7ed
      size: 193
    - path: ../import/gr-books.status
      md5: a0dcde1044f2c61895def1a9523be067
      size: 184
    - path: ../import/gr-works.status
      md5: a223984989927e62d8aea9230810d6bb
      size: 189
    - path: ../integrate/cluster.status
      md5: abac8ffbe1d4b0e33b39320bdfd7974d
      size: 51
    - path: gr-book-authors.sql
      md5: e8d7c2ce3d2cc997506e1302400df8db
      size: 1436
    - path: gr-index-books.status
      md5: 3fe0d48fd17efd5e670f6b2649fc2286
      size: 357
    outs:
    - path: gr-book-authors.transcript
      md5: 52947a5942c872b654f995adec8d508e
  gr-book-info:
    cmd: python ../run.py sql-script gr-book-info.sql
    deps:
    - path: ../import/gr-books.status
      md5: a0dcde1044f2c61895def1a9523be067
      size: 184
    - path: ../import/gr-works.status
      md5: a223984989927e62d8aea9230810d6bb
      size: 189
    - path: ../integrate/cluster.status
      md5: abac8ffbe1d4b0e33b39320bdfd7974d
      size: 51
    - path: gr-book-authors.status
      md5: bbad1d52089bf2bd674606946a066cb8
      size: 370
    - path: gr-book-info.sql
      md5: 622dad6cbfde4b167bdeb05584b33a64
      size: 4107
    - path: gr-index-books.status
      md5: 3fe0d48fd17efd5e670f6b2649fc2286
      size: 357
    outs:
    - path: gr-book-info.transcript
      md5: 659436f044b9398eb82378dcc2e97d7a
  gr-index-books:
    cmd: python ../run.py sql-script gr-index-books.sql
    deps:
    - path: ../import/gr-authors.status
      md5: b7701864036091016af9123c02b5d7ed
      size: 193
    - path: ../import/gr-book-genres.status
      md5: 0c77c736582157805e8248a97b5f7037
      size: 204
    - path: ../import/gr-books.status
      md5: a0dcde1044f2c61895def1a9523be067
      size: 184
    - path: ../import/gr-works.status
      md5: a223984989927e62d8aea9230810d6bb
      size: 189
    - path: gr-index-books.sql
      md5: bf2560c7da69f6fc8d124a98f4f5a0ed
      size: 4403
    outs:
    - path: gr-index-books.transcript
      md5: 39cfd15b59141412e4fb699be6b12762
  gr-index-ratings:
    cmd: python ../run.py sql-script gr-index-ratings.sql
    deps:
    - path: ../import/gr-interactions.status
      md5: acf7d8bdbf506c81f6c3ea4eded3d702
      size: 198
    - path: ../integrate/cluster.status
      md5: abac8ffbe1d4b0e33b39320bdfd7974d
      size: 51
    - path: gr-book-info.status
      md5: b6d909057e78a11672d579e61c18df0a
      size: 553
    - path: gr-index-ratings.sql
      md5: 3ab0a81a10a080e76108eb37aabd3394
      size: 3578
    outs:
    - path: gr-index-ratings.transcript
      md5: 98fcebd1647c3cc36e742a085833ec59
  isbn-norm:
    cmd: python ../run.py sql-script isbn-norm.sql
    deps:
    - path: gr-index-books.status
      md5: 3fe0d48fd17efd5e670f6b2649fc2286
      size: 357
    - path: isbn-norm.sql
      md5: fc9e633e6980c0f678b099bae28688d1
      size: 491
    - path: loc-mds-index-books.status
      md5: abdf7eecd1861c7318b15a2b32435204
      size: 387
    - path: ol-index.status
      md5: 431be74ffa0928a66c3ec3084f8d3640
      size: 356
    outs:
    - path: isbn-norm.transcript
      md5: 7c99a01ec9d598650ba83fd2102a8882
  loc-mds-book-info:
    cmd: python ../run.py sql-script loc-mds-book-info.sql
    deps:
    - path: loc-mds-book-info.sql
      md5: c13381fbb505c7e778032685452c1f23
      size: 1360
    - path: loc-mds-index-books.status
      md5: c3d12ac897931b0edc4ef3d1fec4c340
      size: 387
    outs:
    - path: loc-mds-book-info.transcript
      md5: 773c8adceac1f57b4fcfe9df974e81a6
      size: 957
  loc-mds-extract-isbns:
    cmd: python run.py --rust parse-isbns --src-table locmds.book_raw_isbn --out-table
      locmds.book_extracted_isbn --stage loc-mds-extract-isbns -D loc-mds-books -T
      index/loc-mds-extract-isbns.transcript
    deps:
    - path: import/loc-mds-books.status
      md5: 192dfcb8ed5016b1140e27ad2dd9c9e3
      size: 4030
    outs:
    - path: index/loc-mds-extract-isbns.transcript
      md5: e08255fdca28f536f2aa8f2d065a26cf
      size: 180
  loc-mds-index-books:
    cmd: python ../run.py sql-script loc-mds-index-books.sql
    deps:
    - path: ../import/loc-mds-books.status
      md5: 192dfcb8ed5016b1140e27ad2dd9c9e3
      size: 4030
    - path: loc-mds-extract-isbns.status
      md5: c4ceff988a5b8a7c15ca00c0dbc4ec59
      size: 132
    - path: loc-mds-index-books.sql
      md5: cdd4dabcd4f7b9b9f4eca3b83f1eb676
      size: 4104
    outs:
    - path: loc-mds-index-books.transcript
      md5: 2f6b3ed5c439926fa736097a0cb12520
      size: 2217
  loc-mds-index-names:
    cmd: python ../run.py sql-script loc-mds-index-names.sql
    deps:
    - path: ../import/loc-mds-names.status
      md5: 9d9725ff15b67137e6f2acd5e5b769c2
      size: 3637
    - path: loc-mds-index-names.sql
      md5: 11f203b5b97526c532647d2de7c2c9cc
      size: 888
    outs:
    - path: loc-mds-index-names.transcript
      md5: d686936da3c8f6a2ae648da6d23a8921
      size: 807
  ol-book-info:
    cmd: python ../run.py sql-script ol-book-info.sql
    deps:
    - path: ol-book-info.sql
      md5: 3ef46b2a3e878a00e3a5ad7a31aa5a1f
      size: 582
    - path: ol-index.status
      md5: 431be74ffa0928a66c3ec3084f8d3640
      size: 356
    outs:
    - path: ol-book-info.transcript
      md5: 5fb342deef98c301027b1807d96d04d5
  ol-index:
    cmd: python ../run.py sql-script ol-index.sql
    deps:
    - path: ../import/ol-authors.status
      md5: 456954970c9a56193680bb9399ac9164
      size: 185
    - path: ../import/ol-editions.status
      md5: 4c0b955dcf06c319b8dd9c1057c3c056
      size: 187
    - path: ../import/ol-works.status
      md5: c84b6ccf5f89e6d8faf00cc21b4d5566
      size: 181
    - path: ol-index.sql
      md5: 627e1e62981c643104bdd6bec34fab7d
      size: 7388
    outs:
    - path: ol-index.transcript
      md5: 5528fa7ed03102ecefdf92ace25a13d0
  viaf-index:
    cmd: python ../run.py sql-script viaf-index.sql
    deps:
    - path: ../import/viaf.status
      md5: 55fb31f4aaa86a2fd921c59c797c09a8
      size: 186
    - path: viaf-index.sql
      md5: b39f849908bb3c4b82e10c1110e44786
      size: 2728
    outs:
    - path: viaf-index.transcript
      md5: a2a7c0283e2dddd99d87139e596512b6
  status@gr-index-books:
    cmd: python ../run.py stage-status -o gr-index-books.status gr-index-books
    deps:
    - path: gr-index-books.transcript
      md5: 39cfd15b59141412e4fb699be6b12762
      size: 2521
    outs:
    - path: gr-index-books.status
      md5: 3fe0d48fd17efd5e670f6b2649fc2286
      size: 357
  status@ol-index:
    cmd: python ../run.py stage-status -o ol-index.status ol-index
    deps:
    - path: ol-index.transcript
      md5: 5528fa7ed03102ecefdf92ace25a13d0
      size: 4934
    outs:
    - path: ol-index.status
      md5: 431be74ffa0928a66c3ec3084f8d3640
      size: 356
  status@ol-book-info:
    cmd: python ../run.py stage-status -o ol-book-info.status ol-book-info
    deps:
    - path: ol-book-info.transcript
      md5: 5fb342deef98c301027b1807d96d04d5
      size: 510
    outs:
    - path: ol-book-info.status
      md5: 8ce3b1230c306ab53d019453bd336927
      size: 159
  status@viaf-index:
    cmd: python ../run.py stage-status -o viaf-index.status viaf-index
    deps:
    - path: viaf-index.transcript
      md5: a2a7c0283e2dddd99d87139e596512b6
      size: 1292
    outs:
    - path: viaf-index.status
      md5: 7598c00689dd89a355a1538d9855ff60
      size: 291
  status@gr-book-authors:
    cmd: python ../run.py stage-status -o gr-book-authors.status gr-book-authors
    deps:
    - path: gr-book-authors.transcript
      md5: 52947a5942c872b654f995adec8d508e
      size: 484
    outs:
    - path: gr-book-authors.status
      md5: bbad1d52089bf2bd674606946a066cb8
      size: 370
  status@loc-mds-index-names:
    cmd: python ../run.py stage-status -o loc-mds-index-names.status loc-mds-index-names
    deps:
    - path: loc-mds-index-names.transcript
      md5: 0d07d44aa3486e6aab6aa3ee67b0a5b3
      size: 833
    outs:
    - path: loc-mds-index-names.status
      md5: 4d8d4e061447b2d53f39262c41e60f74
      size: 186
  status@gr-index-ratings:
    cmd: python ../run.py stage-status -o gr-index-ratings.status gr-index-ratings
    deps:
    - path: gr-index-ratings.transcript
      md5: 98fcebd1647c3cc36e742a085833ec59
      size: 1348
    outs:
    - path: gr-index-ratings.status
      md5: 2e5bab21dcd1a3ad70c7b9aa33e1f929
      size: 393
  status@loc-mds-index-books:
    cmd: python ../run.py stage-status -o loc-mds-index-books.status loc-mds-index-books
    deps:
    - path: loc-mds-index-books.transcript
      md5: 2f6b3ed5c439926fa736097a0cb12520
      size: 2217
    outs:
    - path: loc-mds-index-books.status
      md5: c3d12ac897931b0edc4ef3d1fec4c340
      size: 387
  status@isbn-norm:
    cmd: python ../run.py stage-status -o isbn-norm.status isbn-norm
    deps:
    - path: isbn-norm.transcript
      md5: 7c99a01ec9d598650ba83fd2102a8882
      size: 257
    outs:
    - path: isbn-norm.status
      md5: 5f281f436639bdcb85383e0b334183de
      size: 262
  status@gr-book-info:
    cmd: python ../run.py stage-status -o gr-book-info.status gr-book-info
    deps:
    - path: gr-book-info.transcript
      md5: 659436f044b9398eb82378dcc2e97d7a
      size: 1792
    outs:
    - path: gr-book-info.status
      md5: b6d909057e78a11672d579e61c18df0a
      size: 553
  status@bx-index:
    cmd: python ../run.py stage-status -o bx-index.status bx-index
    deps:
    - path: bx-index.transcript
      md5: 10895cefc67a2d442b8d834d8399d05b
      size: 611
    outs:
    - path: bx-index.status
      md5: 7e6211a90148898456ab9dada9353cc2
      size: 274
  status@loc-mds-book-info:
    cmd: python ../run.py stage-status -o loc-mds-book-info.status loc-mds-book-info
    deps:
    - path: loc-mds-book-info.transcript
      md5: 773c8adceac1f57b4fcfe9df974e81a6
      size: 957
    outs:
    - path: loc-mds-book-info.status
      md5: d175bf840b3b503d25b5f9724756c8fd
      size: 180
  status@az-index:
    cmd: python ../run.py stage-status -o az-index.status az-index
    deps:
    - path: az-index.transcript
      md5: 11bcbcd2d11a8a121b22a9a799312434
      size: 753
    outs:
    - path: az-index.status
      md5: b845cbb28bd6735919d6ef20c069b2d1
      size: 280
  status@loc-mds-extract-isbns:
    cmd: python ../run.py stage-status -o loc-mds-extract-isbns.status loc-mds-extract-isbns
    deps:
    - path: loc-mds-extract-isbns.transcript
      md5: e08255fdca28f536f2aa8f2d065a26cf
      size: 180
    outs:
    - path: loc-mds-extract-isbns.status
      md5: c4ceff988a5b8a7c15ca00c0dbc4ec59
      size: 132
  gr-index-series:
    cmd: python ../run.py sql-script gr-index-series.sql
    deps:
    - path: ../import/gr-book-series.status
      md5: 9b00503eac12f80764b5b3d17a37083d
      size: 196
    - path: gr-index-books.status
      md5: 3fe0d48fd17efd5e670f6b2649fc2286
      size: 357
    - path: gr-index-series.sql
      md5: 027cffd5c06423d8ebb387f926954dac
      size: 938
    outs:
    - path: gr-index-series.transcript
      md5: 73483f73282dcdccc452f5875f70d18c
      size: 751
  status@gr-index-series:
    cmd: python ../run.py stage-status -o gr-index-series.status gr-index-series
    deps:
    - path: gr-index-series.transcript
      md5: 73483f73282dcdccc452f5875f70d18c
      size: 751
    outs:
    - path: gr-index-series.status
      md5: 6dcca8d657f2deb39b756342a728dfb0
      size: 266
