schema: '2.0'
stages:
  scan-ratings:
    cmd: python ../run.py --rust amazon scan-ratings -o ratings.parquet --swap-id-columns
      ../data/az2018/Books.csv
    deps:
    - path: ../data/az2018/Books.csv
      md5: bcdcbbf336eb0d410e7a7894efa904ab
      size: 2140933459
    - path: ../src/amazon.rs
      md5: eae365a533cc290e8c60b8d4dbdd4e46
      size: 587
    - path: ../src/cli/amazon/
      md5: a530a6f1192f57fe970aff77b7e9c801.dir
      size: 3285
      nfiles: 3
    outs:
    - path: ratings.parquet
      md5: ea664babdc393f2ee15df23616903990
      size: 315697300
  schema@ratings:
    cmd: python ../run.py --rust pq-info -o ratings.json ratings.parquet
    deps:
    - path: ratings.parquet
      md5: ea664babdc393f2ee15df23616903990
      size: 315697300
    outs:
    - path: ratings.json
      md5: 3595559cba3de8f4a8c1cc55eea00782
      size: 427
  cluster-ratings:
    cmd: python run.py --rust amazon cluster-ratings -o az2018/az-cluster-ratings.parquet
      az2018/ratings.parquet
    deps:
    - path: az2018/ratings.parquet
      md5: ea664babdc393f2ee15df23616903990
      size: 315697300
    - path: book-links/isbn-clusters.parquet
      md5: 84678be8379c1be519abd75616e88597
      size: 335303234
    - path: src/cli/amazon
      md5: a530a6f1192f57fe970aff77b7e9c801.dir
      size: 3285
      nfiles: 3
    outs:
    - path: az2018/az-cluster-ratings.parquet
      md5: ba0121e7926dadcf550b49a21afaa2f4
      size: 666560819
  schema@az-cluster-ratings:
    cmd: python ../run.py --rust pq-info -o az-cluster-ratings.json az-cluster-ratings.parquet
    deps:
    - path: az-cluster-ratings.parquet
      md5: ba0121e7926dadcf550b49a21afaa2f4
      size: 666560819
    outs:
    - path: az-cluster-ratings.json
      md5: c9aeff7ff1190a3d489efaf70ab92d6d
      size: 702
