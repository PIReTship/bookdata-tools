schema: '2.0'
stages:
  scan-ratings:
    cmd: python ../run.py --rust amazon scan-ratings -o ratings.parquet ../data/az2018/Books.csv
    deps:
    - path: ../data/az2018/Books.csv
      md5: bcdcbbf336eb0d410e7a7894efa904ab
      size: 2140933459
    - path: ../src/amazon.rs
      md5: eae365a533cc290e8c60b8d4dbdd4e46
      size: 587
    - path: ../src/cli/amazon/
      md5: d2132fb4aaaf8c4f398de402c8245e47.dir
      size: 1518
      nfiles: 2
    outs:
    - path: ratings.parquet
      md5: 87ca6ed404d50074e720c0a8d0318256
      size: 581894654
  schema@ratings:
    cmd: python ../run.py --rust pq-info -o ratings.json ratings.parquet
    deps:
    - path: ratings.parquet
      md5: 87ca6ed404d50074e720c0a8d0318256
      size: 581894654
    outs:
    - path: ratings.json
      md5: 593245102d9804256479f3226f4473c5
      size: 427
  cluster-ratings:
    cmd: python ../run.py ../az2014/az-cluster-ratings.py
    deps:
    - path: ../az2014/az-cluster-ratings.py
      md5: 1741af277753a63e76ff98c431863095
      size: 1252
    - path: ../book-links/all-isbns.parquet
      md5: 6e3c2c9e36fb6e74ac1dea916d8c7193
      size: 463945418
    - path: ../book-links/isbn-clusters.parquet
      md5: fa5ddd99a0f1d74708c1b0507845646d
      size: 557696240
    - path: ratings.parquet
      md5: 87ca6ed404d50074e720c0a8d0318256
      size: 581894654
    outs:
    - path: az-cluster-ratings.parquet
      md5: 77fa1e2aace2765002528b452da39bd5
      size: 641675354
  schema@az-cluster-ratings:
    cmd: python ../run.py --rust pq-info -o az-cluster-ratings.json az-cluster-ratings.parquet
    deps:
    - path: az-cluster-ratings.parquet
      md5: 77fa1e2aace2765002528b452da39bd5
      size: 641675354
    outs:
    - path: az-cluster-ratings.json
      md5: 9048b61b372602c468c3c354db2a3ea2
      size: 702
