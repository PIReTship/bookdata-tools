<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="298px" preserveAspectRatio="none" style="width:461px;height:298px;" version="1.1" viewBox="0 0 461 298" width="461px" zoomAndPan="magnify"><defs><filter height="300%" id="f1a7dh649pq9ft" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="88" x="190" y="18.6855">AZ Ratings</text><!--MD5=[6c6b3aaf420271ef2abb87aa755b195f]
class isbn_id--><rect fill="#FEFECE" filter="url(#f1a7dh649pq9ft)" height="68.7656" id="isbn_id" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="403" y="52.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="406" y="69.5977">isbn_id</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="404" x2="449" y1="77.2344" y2="77.2344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="409" y="92.6533">isbn_id</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="404" x2="449" y1="99.0703" y2="99.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="409" y="114.4893">isbn</text><!--MD5=[74cc8024e60fab674a41ae0c7b76879d]
class isbn_cluster--><rect fill="#FEFECE" filter="url(#f1a7dh649pq9ft)" height="68.7656" id="isbn_cluster" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="293.5" y="52.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="296.5" y="69.5977">isbn_cluster</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="366.5" y1="77.2344" y2="77.2344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="299.5" y="92.6533">cluster</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="294.5" x2="366.5" y1="99.0703" y2="99.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="299.5" y="114.4893">isbn_id</text><!--MD5=[892960c49140be79834639d132740a42]
class raw_ratings--><rect fill="#FEFECE" filter="url(#f1a7dh649pq9ft)" height="96.4375" id="raw_ratings" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="6" y="38.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="65" x="9" y="56.0977">raw_ratings</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="76" y1="63.7344" y2="63.7344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="7" x2="76" y1="71.7344" y2="71.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="12" y="87.1533">user_key</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="12" y="100.9893">asin</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="12" y="114.8252">rating</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="12" y="128.6611">rating_time</text><!--MD5=[6c5f76190100f321fda0b0763835a669]
class user_ids--><rect fill="#FEFECE" filter="url(#f1a7dh649pq9ft)" height="83.8594" id="user_ids" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="69" y="203.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55" x="70" y="221.0977">«derived»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="49" x="73" y="236.1914">user_ids</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="70" x2="125" y1="243.8281" y2="243.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="75" y="259.2471">user_id</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="125" y1="265.6641" y2="265.6641"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="75" y="281.083">user_key</text><!--MD5=[2eac969dd808a5f35f2990cb5d945bb2]
class rating--><rect fill="#FEFECE" filter="url(#f1a7dh649pq9ft)" height="111.5313" id="rating" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="112" y="30.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55" x="113" y="48.0977">«derived»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="125" y="63.1914">rating</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="113" x2="168" y1="70.8281" y2="70.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="118" y="86.2471">user_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="118" y="100.083">book_id</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="113" x2="168" y1="106.5" y2="106.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="118" y="121.9189">rating</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="118" y="135.7549">nactions</text><!--MD5=[4823669649a88054fbb4c6aefb48e5aa]
reverse link isbn_cluster to isbn_id--><path d="M375.616,86.6406 C375.616,86.6406 402.785,86.6406 402.785,86.6406 " fill="none" id="isbn_cluster&lt;-isbn_id" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="375.616" x2="367.616" y1="86.6406" y2="92.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="375.616" x2="367.616" y1="86.6406" y2="80.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="375.616" x2="367.616" y1="86.6406" y2="86.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="377.616" x2="377.616" y1="90.6406" y2="82.6406"/><!--MD5=[859a6df3c1c1e2360a96aee0b68f8f19]
reverse link raw_ratings to rating--><path d="M82.2413,86.6406 C82.2413,86.6406 111.948,86.6406 111.948,86.6406 " fill="none" id="raw_ratings&lt;-rating" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="77.2413,86.6406,86.2413,90.6406,82.2413,86.6406,86.2413,82.6406,77.2413,86.6406" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c69802f91ceef362009a0057c274bc27]
reverse link raw_ratings to user_ids--><path d="M73,139.7776 C73,139.7776 73,203.5922 73,203.5922 " fill="none" id="raw_ratings&lt;-user_ids" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="73,134.7776,69,143.7776,73,139.7776,77,143.7776,73,134.7776" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[11392c822a4dc1aa24a9f60d36da245a]
reverse link rating to user_ids--><path d="M119,150.6976 C119,150.6976 119,203.5792 119,203.5792 " fill="none" id="rating&lt;-user_ids" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="113" y1="150.6976" y2="142.6976"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="125" y1="150.6976" y2="142.6976"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="150.6976" y2="142.6976"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="115" x2="123" y1="152.6976" y2="152.6976"/><!--MD5=[e56b8e6925b3c28bd9de4f35f1cbd0d1]
reverse link rating to isbn_cluster--><path d="M177.357,86.6406 C177.357,86.6406 293.187,86.6406 293.187,86.6406 " fill="none" id="rating&lt;-isbn_cluster" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.357" x2="169.357" y1="86.6406" y2="92.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.357" x2="169.357" y1="86.6406" y2="80.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.357" x2="169.357" y1="86.6406" y2="86.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="179.357" x2="179.357" y1="90.6406" y2="82.6406"/><!--MD5=[5c9a7d8d5a223c9bf763263cc23f70d0]
@startuml

title AZ Ratings
skinparam linetype ortho

hide empty members
hide circle

entity isbn_id {
  isbn_id
  - -
  isbn
}

entity isbn_cluster {
  cluster
  - -
  isbn_id
}

isbn_cluster }|- isbn_id

entity raw_ratings {
    - -
    user_key
    asin
    rating
    rating_time
}

entity user_ids <<derived>> {
    user_id
    - -
    user_key
}

entity rating <<derived>> {
    user_id
    book_id
    - -
    rating
    nactions
}

raw_ratings <. rating
raw_ratings <. user_ids

rating }|- - user_ids
rating }|- isbn_cluster : book_id:cluster

@enduml

PlantUML version 1.2020.05(Thu Mar 19 15:17:32 MDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 14+36-1461
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>