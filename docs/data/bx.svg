<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="329px" preserveAspectRatio="none" style="width:355px;height:329px;" version="1.1" viewBox="0 0 355 329" width="355px" zoomAndPan="magnify"><defs><filter height="300%" id="fkvfcae14d96e" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="178" x="92" y="18.6855">BookCrossing Ratings</text><!--MD5=[6c6b3aaf420271ef2abb87aa755b195f]
class isbn_id--><rect fill="#FFFFFF" filter="url(#fkvfcae14d96e)" height="68.7656" id="isbn_id" style="stroke: #7253ED; stroke-width: 1.5;" width="47" x="297" y="228.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="300" y="245.5977">isbn_id</text><line style="stroke: #7253ED; stroke-width: 1.5;" x1="298" x2="343" y1="253.2344" y2="253.2344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="303" y="268.6533">isbn_id</text><line style="stroke: #7253ED; stroke-width: 1.0;" x1="298" x2="343" y1="275.0703" y2="275.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="303" y="290.4893">isbn</text><!--MD5=[74cc8024e60fab674a41ae0c7b76879d]
class isbn_cluster--><rect fill="#FFFFFF" filter="url(#fkvfcae14d96e)" height="68.7656" id="isbn_cluster" style="stroke: #7253ED; stroke-width: 1.5;" width="74" x="187.5" y="228.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="190.5" y="245.5977">isbn_cluster</text><line style="stroke: #7253ED; stroke-width: 1.5;" x1="188.5" x2="260.5" y1="253.2344" y2="253.2344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="193.5" y="268.6533">cluster</text><line style="stroke: #7253ED; stroke-width: 1.0;" x1="188.5" x2="260.5" y1="275.0703" y2="275.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="193.5" y="290.4893">isbn_id</text><!--MD5=[892960c49140be79834639d132740a42]
class raw_ratings--><rect fill="#FFFFFF" filter="url(#fkvfcae14d96e)" height="82.6016" id="raw_ratings" style="stroke: #7253ED; stroke-width: 1.5;" width="71" x="53" y="38.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="65" x="56" y="55.5977">raw_ratings</text><line style="stroke: #7253ED; stroke-width: 1.5;" x1="54" x2="123" y1="63.2344" y2="63.2344"/><line style="stroke: #7253ED; stroke-width: 1.0;" x1="54" x2="123" y1="71.2344" y2="71.2344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="59" y="86.6533">user_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="59" y="100.4893">isbn</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="59" y="114.3252">rating</text><!--MD5=[2eac969dd808a5f35f2990cb5d945bb2]
class rating--><rect fill="#F5F6FA" filter="url(#fkvfcae14d96e)" height="111.5313" id="rating" style="stroke: #7253ED; stroke-width: 1.5;" width="57" x="6" y="206.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55" x="7" y="224.0977">«derived»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="19" y="239.1914">rating</text><line style="stroke: #7253ED; stroke-width: 1.5;" x1="7" x2="62" y1="246.8281" y2="246.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="12" y="262.2471">user_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="12" y="276.083">book_id</text><line style="stroke: #7253ED; stroke-width: 1.0;" x1="7" x2="62" y1="282.5" y2="282.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="12" y="297.9189">rating</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="12" y="311.7549">nactions</text><!--MD5=[81d7fe74b9f0a787ef9c5c080a006fb2]
class add_action--><rect fill="#F5F6FA" filter="url(#fkvfcae14d96e)" height="97.6953" id="add_action" style="stroke: #7253ED; stroke-width: 1.5;" width="67" x="164" y="30.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55" x="170" y="48.0977">«derived»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="167" y="63.1914">add_action</text><line style="stroke: #7253ED; stroke-width: 1.5;" x1="165" x2="230" y1="70.8281" y2="70.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="170" y="86.2471">user_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="170" y="100.083">book_id</text><line style="stroke: #7253ED; stroke-width: 1.0;" x1="165" x2="230" y1="106.5" y2="106.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="170" y="121.9189">nactions</text><!--MD5=[4823669649a88054fbb4c6aefb48e5aa]
reverse link isbn_cluster to isbn_id--><path d="M269.616,262.6406 C269.616,262.6406 296.785,262.6406 296.785,262.6406 " fill="none" id="isbn_cluster&lt;-isbn_id" style="stroke: #27262B; stroke-width: 1.0;"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="269.616" x2="261.616" y1="262.6406" y2="268.6406"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="269.616" x2="261.616" y1="262.6406" y2="256.6406"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="269.616" x2="261.616" y1="262.6406" y2="262.6406"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="271.616" x2="271.616" y1="266.6406" y2="258.6406"/><!--MD5=[859a6df3c1c1e2360a96aee0b68f8f19]
reverse link raw_ratings to rating--><path d="M58,126.1666 C58,126.1666 58,206.3646 58,206.3646 " fill="none" id="raw_ratings&lt;-rating" style="stroke: #27262B; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#27262B" points="58,121.1666,54,130.1666,58,126.1666,62,130.1666,58,121.1666" style="stroke: #27262B; stroke-width: 1.0;"/><!--MD5=[bebaa75a457915f83135d42642a01fa0]
reverse link raw_ratings to add_action--><path d="M129.191,79.6406 C129.191,79.6406 163.949,79.6406 163.949,79.6406 " fill="none" id="raw_ratings&lt;-add_action" style="stroke: #27262B; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#27262B" points="124.191,79.6406,133.191,83.6406,129.191,79.6406,133.191,75.6406,124.191,79.6406" style="stroke: #27262B; stroke-width: 1.0;"/><!--MD5=[e56b8e6925b3c28bd9de4f35f1cbd0d1]
reverse link rating to isbn_cluster--><path d="M71.3569,262.6406 C71.3569,262.6406 187.187,262.6406 187.187,262.6406 " fill="none" id="rating&lt;-isbn_cluster" style="stroke: #27262B; stroke-width: 1.0;"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="71.3569" x2="63.3569" y1="262.6406" y2="268.6406"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="71.3569" x2="63.3569" y1="262.6406" y2="256.6406"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="71.3569" x2="63.3569" y1="262.6406" y2="262.6406"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="73.3569" x2="73.3569" y1="266.6406" y2="258.6406"/><!--MD5=[a6f2812b820a37e42aeaeb1ec0894cfb]
reverse link add_action to isbn_cluster--><path d="M209.25,136.6816 C209.25,136.6816 209.25,227.9642 209.25,227.9642 " fill="none" id="add_action&lt;-isbn_cluster" style="stroke: #27262B; stroke-width: 1.0;"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="209.25" x2="203.25" y1="136.6816" y2="128.6816"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="209.25" x2="215.25" y1="136.6816" y2="128.6816"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="209.25" x2="209.25" y1="136.6816" y2="128.6816"/><line style="stroke: #27262B; stroke-width: 1.0;" x1="205.25" x2="213.25" y1="138.6816" y2="138.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="219.5" y="173.1357">book_id:cluster</text><!--MD5=[65cb694be937c63d55d0100a4cffbedc]
@startuml

title BookCrossing Ratings
skinparam linetype ortho
skinparam class {
    BackgroundColor white
    BackgroundColor<<derived>> #f5f6fa
    ArrowColor #27262b
    BorderColor #7253ed
}

hide empty members
hide circle

entity isbn_id {
  isbn_id
  - -
  isbn
}

entity isbn_cluster {
  cluster
  - -
  isbn_id
}

isbn_cluster }|- isbn_id

entity raw_ratings {
    - -
    user_id
    isbn
    rating
}

entity rating <<derived>> {
    user_id
    book_id
    - -
    rating
    nactions
}

entity add_action <<derived>> {
    user_id
    book_id
    - -
    nactions
}

raw_ratings <.. rating
raw_ratings <. add_action

rating }|- isbn_cluster : book_id:cluster
add_action }|- - isbn_cluster : book_id:cluster

@enduml

PlantUML version 1.2020.05(Thu Mar 19 15:17:32 MDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 14+36-1461
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>