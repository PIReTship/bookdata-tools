schema: '2.0'
stages:
  scan-books:
    cmd: python ../run.py --rust scan-marc-books --glob "../data/loc-books/BooksAll.2016*.xml.gz"
    deps:
    - path: ../data/loc-books
      md5: 1b1e7ab1d98cc81e373dfc53345d4bb7.dir
      size: 3129774145
      nfiles: 43
    - path: ../src/bin/scan-marc-books.rs
      md5: c811b58863f484b226b6279448f248d1
      size: 4901
    outs:
    - path: book-fields.parquet
      md5: a6a273d93eca207baa267b5296917fed
      size: 2934424003
    - path: book-ids.parquet
      md5: 6328dc695b1f1b075c308b999039273b
      size: 73156551
    - path: book-isbns.csv.gz
      md5: 82de379068fe784d6b07f9373a6610ae
      size: 52590751
  book-authors:
    cmd: python ../run.py --rust fusion book-authors.toml
    deps:
    - path: book-authors.sql
      md5: e7fedd05a01610173eadea3b5644a5f1
      size: 93
    - path: book-authors.toml
      md5: 9ec9272e78437175cc9dfbf546715848
      size: 106
    - path: book-fields.parquet
      md5: a6a273d93eca207baa267b5296917fed
      size: 2934424003
    outs:
    - path: book-authors.parquet
      md5: 6582a8a12afc94c86f5ce2168d1d3058.dir
      size: 127570485
      nfiles: 16
