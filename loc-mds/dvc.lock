schema: '2.0'
stages:
  scan-books:
    cmd: python ../run.py --rust scan-marc-books --glob "../data/loc-books/BooksAll.2016*.xml.gz"
    deps:
    - path: ../data/loc-books
      md5: 1b1e7ab1d98cc81e373dfc53345d4bb7.dir
      size: 3129774145
      nfiles: 43
    - path: ../src/bin/scan-marc-books.rs
      md5: 1548f332eb7993c564e0890f9c2d5f63
      size: 5194
    outs:
    - path: book-fields.parquet
      md5: a6a273d93eca207baa267b5296917fed
      size: 2934424003
    - path: book-ids.parquet
      md5: 6328dc695b1f1b075c308b999039273b
      size: 73156551
    - path: book-isbns.parquet
      md5: 68d32b3769171e45e42e42080786cbe4
      size: 61308871
  book-authors:
    cmd: python ../run.py --rust fusion book-authors.tcl
    deps:
    - path: book-authors.tcl
      md5: b925cb22864ebca34bc80f5b94687e76
      size: 185
    - path: book-fields.parquet
      md5: a6a273d93eca207baa267b5296917fed
      size: 2934424003
    outs:
    - path: book-authors.parquet
      md5: 6582a8a12afc94c86f5ce2168d1d3058.dir
      size: 127570485
      nfiles: 16
