[package]
name = "bookdata"
version = "0.1.0"
authors = ["Michael Ekstrand <michaelekstrand@boisestate.edu>"]
edition = "2018"

[workspace]
members = [
    "bd-macros"
]

[lib]

[profile.release]
opt-level = 3
debug = 1

[dependencies]
bd-macros = { path = "bd-macros" }
paste = "^1.0"

structopt = ">=0.2"
indicatif = "0.16"
log = { version = "^0.4.8", features = ["std"] }
happylog = ">=0.2.0"

toml = "0.5"
csv = "^1.0"
quick-xml = "^0.17.2"
serde = { version="^1.0", features=["derive"] }
serde_json = { version="^1.0" }
rmp-serde = "0.15"
molt = "^0.3.1"

lazy_static = "^1.4"
os_pipe = "0.9"
fallible-iterator = "^0.2.0"
anyhow = "^1.0.26"
thiserror = "^1.0"
crossbeam-channel = "0.5"
tokio = "^1.0"
futures = "^0.3.14"
hashbrown = "0.11"

zstd = "^0.9"
flate2 = { version="^1.0.6", features=["zlib-ng-compat"], default-features=false }
zip = { version=">=0.5.0", default-features=false, features=["deflate"] }

unicode-normalization = "0.1"
parse-display = "^0.5.1"
hex = "^0.4.3"
chrono = "^0.4"
glob = "^0.3"
nom = "6"
regex = "^1.5.0"
friendly = { git="https://github.com/mdekstrand/friendly", branch="main" }

petgraph = { version="^0.6", features=["serde-1"] }
arrow = "^5.0.0"
parquet = { version = "^5.0.0", default-features = false, features = ["arrow", "snap", "zstd", "flate2"] }
datafusion = { version="^5.0.0", default-features=false, features=["unicode_expressions", "regex_expressions"]}

[dev-dependencies]
tempfile = "^3.2"
quickcheck = "^1.0"

[target.'cfg(target_env = "gnu")'.dependencies]
jemallocator = "^0.3.0"

[target.'cfg(target_env = "msvc")'.dependencies]
mimalloc = "^0.1"
